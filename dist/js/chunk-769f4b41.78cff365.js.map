{"version":3,"sources":["webpack:///./src/views/menu.vue?8741","webpack:///./src/views/menu.vue?e9df","webpack:///src/views/menu.vue","webpack:///./src/views/menu.vue?a481","webpack:///./src/views/menu.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","attrs","on","$event","addPrimarymenu","_v","menuList","scopedSlots","_u","key","fn","scope","row","courseUrl","_s","modifyMenu","delMenu","id","pageTotal","pageNumber","pageSize","handleCurrentPageChange","_e","menuTitle","addPrimarymenuVisible","ref","menu_form","rulePrimary","model","callback","$$v","$set","radio","chapterList","length","handleChange","isDisabledUrl","beforeAvatarUploadUrl","handleUploadUrl","percentageUrl","slot","submitmenu_form","staticRenderFns","component"],"mappings":"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","file":"js/chunk-769f4b41.78cff365.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.pageLoading),expression:\"pageLoading\"}],staticClass:\"home-wrapper\"},[_c('el-button',{staticClass:\"btn-add\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addPrimarymenu()}}},[_vm._v(\"新增章节\")]),_c('div',{staticClass:\"newContent\"},[_c('el-table',{attrs:{\"data\":_vm.menuList}},[_c('el-table-column',{attrs:{\"width\":\"100px\",\"type\":\"index\",\"align\":\"center\",\"label\":\"序号\"}}),_c('el-table-column',{attrs:{\"width\":\"200px\",\"align\":\"center\",\"prop\":\"chapter\",\"label\":\"章名称\"}}),_c('el-table-column',{attrs:{\"width\":\"200px\",\"align\":\"center\",\"prop\":\"section\",\"label\":\"节名称\"}}),_c('el-table-column',{attrs:{\"width\":\"200px\",\"align\":\"center\",\"prop\":\"courseUrl\",\"label\":\"视频链接\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-link',{attrs:{\"underline\":false,\"href\":scope.row.courseUrl}},[_vm._v(_vm._s(scope.row.courseUrl))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"action\",\"label\":\"操作\",\"align\":\"center\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"text-link\",on:{\"click\":function($event){return _vm.modifyMenu(scope.row)}}},[_vm._v(\"修改\")]),_c('span',{staticClass:\"text-link\",on:{\"click\":function($event){return _vm.delMenu(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1),(_vm.pageTotal !== 0)?_c('div',{staticClass:\"page-box\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.pageTotal,\"current-page\":_vm.pageNumber,\"page-size\":_vm.pageSize},on:{\"current-change\":_vm.handleCurrentPageChange,\"update:currentPage\":function($event){_vm.pageNumber=$event},\"update:current-page\":function($event){_vm.pageNumber=$event}}})],1):_vm._e()],1),[_c('el-dialog',{attrs:{\"title\":_vm.menuTitle,\"visible\":_vm.addPrimarymenuVisible,\"modal-append-to-body\":false,\"width\":\"500px\"},on:{\"update:visible\":function($event){_vm.addPrimarymenuVisible=$event}}},[_c('el-form',{ref:\"menu_form\",attrs:{\"model\":_vm.menu_form,\"rules\":_vm.rulePrimary}},[_c('el-form-item',{attrs:{\"label\":\"节名\",\"label-width\":\"120px\",\"prop\":\"section\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.menu_form.section),callback:function ($$v) {_vm.$set(_vm.menu_form, \"section\", $$v)},expression:\"menu_form.section\"}})],1),_c('el-form-item',{attrs:{\"label\":\"章\",\"label-width\":\"120px\",\"prop\":\"teacher\"}},[_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_vm._v(\"新增章\")]),(_vm.chapterList.length > 0)?_c('el-radio',{attrs:{\"label\":\"2\"},model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_vm._v(\"选择已有章\")]):_vm._e()],1),_c('el-form-item',{attrs:{\"label\":\"章节名称\",\"label-width\":\"120px\",\"prop\":\"chapter\"}},[(_vm.radio == 1)?_c('el-input',{model:{value:(_vm.menu_form.chapter),callback:function ($$v) {_vm.$set(_vm.menu_form, \"chapter\", $$v)},expression:\"menu_form.chapter\"}}):_vm._e(),(_vm.radio == 2)?_c('el-cascader',{attrs:{\"options\":_vm.chapterList,\"show-all-levels\":false},on:{\"change\":_vm.handleChange},model:{value:(_vm.menu_form.chapter),callback:function ($$v) {_vm.$set(_vm.menu_form, \"chapter\", $$v)},expression:\"menu_form.chapter\"}}):_vm._e()],1),(_vm.menuTitle != '修改章节')?_c('el-form-item',{attrs:{\"label\":\"视频\",\"label-width\":\"120px\",\"prop\":\"course_url\"}},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"multiple\":\"\",\"action\":\"\",\"limit\":1,\"accept\":\".mp4,MP4,.wmv\",\"disabled\":_vm.isDisabledUrl,\"before-upload\":_vm.beforeAvatarUploadUrl,\"http-request\":_vm.handleUploadUrl}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),(_vm.percentageUrl<100 && _vm.percentageUrl>0)?_c('el-progress',{attrs:{\"percentage\":_vm.percentageUrl}}):_vm._e(),(_vm.percentageUrl==100)?_c('el-progress',{attrs:{\"percentage\":_vm.percentageUrl,\"status\":\"success\"}}):_vm._e()],1)],1):_vm._e()],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addPrimarymenuVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitmenu_form('menu_form')}}},[_vm._v(\"确 定\")])],1)],1)]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"home-wrapper\" v-loading=\"pageLoading\">\r\n        <el-button type=\"primary\" class=\"btn-add\" @click=\"addPrimarymenu()\">新增章节</el-button>\r\n        <div class=\"newContent\">\r\n            <el-table\r\n                :data=\"menuList\">\r\n                <el-table-column\r\n                    width=\"100px\"\r\n                    type=\"index\"\r\n                    align=\"center\"\r\n                    label=\"序号\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    width=\"200px\"\r\n                    align=\"center\"\r\n                    prop=\"chapter\"\r\n                    label=\"章名称\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    width=\"200px\"\r\n                    align=\"center\"\r\n                    prop=\"section\"\r\n                    label=\"节名称\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    width=\"200px\"\r\n                    align=\"center\"\r\n                    prop=\"courseUrl\"\r\n                    label=\"视频链接\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-link :underline=\"false\" :href=\"scope.row.courseUrl\">{{scope.row.courseUrl}}</el-link>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"action\" label=\"操作\"  align=\"center\" width=\"100\">\r\n                    <template slot-scope=\"scope\">\r\n                    <span class=\"text-link\" @click=\"modifyMenu(scope.row)\">修改</span>\r\n                    <span class=\"text-link\" @click=\"delMenu(scope.row.id)\">删除</span>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n             <div class=\"page-box\" v-if=\"pageTotal !== 0\">\r\n                <el-pagination\r\n                    background\r\n                    layout=\"prev, pager, next\"\r\n                    :total=\"pageTotal\"\r\n                    @current-change = \"handleCurrentPageChange\"\r\n                    :current-page.sync=\"pageNumber\"\r\n                    :page-size=\"pageSize\"\r\n                ></el-pagination>\r\n            </div>\r\n        </div>\r\n         <!-- 添加章 or 修改章-->\r\n        <template>\r\n            <el-dialog :title=\"menuTitle\" :visible.sync=\"addPrimarymenuVisible\" :modal-append-to-body='false'  width=\"500px\">\r\n            <el-form :model=\"menu_form\" :rules=\"rulePrimary\" ref=\"menu_form\">\r\n                <el-form-item label=\"节名\" label-width=\"120px\" prop=\"section\">\r\n                    <el-input v-model=\"menu_form.section\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"章\" label-width=\"120px\" prop=\"teacher\">\r\n                    <el-radio v-model=\"radio\" label=\"1\">新增章</el-radio>\r\n                    <el-radio v-if=\"chapterList.length > 0\" v-model=\"radio\" label=\"2\">选择已有章</el-radio>\r\n                </el-form-item>\r\n                <el-form-item  label=\"章节名称\" label-width=\"120px\" prop=\"chapter\">\r\n                    <el-input v-if=\"radio == 1\" v-model=\"menu_form.chapter\"></el-input>\r\n                    <el-cascader\r\n                        v-if=\"radio == 2\"\r\n                        v-model=\"menu_form.chapter\"\r\n                        :options=\"chapterList\"\r\n                        :show-all-levels=\"false\"\r\n                        @change=\"handleChange\"></el-cascader>\r\n                </el-form-item>\r\n                <el-form-item v-if=\"menuTitle != '修改章节'\" label=\"视频\" label-width=\"120px\" prop=\"course_url\">\r\n                    <el-upload\r\n                        class=\"upload-demo\"\r\n                        multiple\r\n                        action=\"\"\r\n                        :limit=\"1\"\r\n                        accept=\".mp4,MP4,.wmv\"\r\n                        :disabled=\"isDisabledUrl\"\r\n                        :before-upload=\"beforeAvatarUploadUrl\"\r\n                        :http-request=\"handleUploadUrl\"\r\n                    >\r\n                        <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n                        <!-- 上传进度条 -->\r\n                        <el-progress :percentage=\"percentageUrl\" v-if=\"percentageUrl<100 && percentageUrl>0\"></el-progress>\r\n                        <el-progress :percentage=\"percentageUrl\" status=\"success\" v-if=\"percentageUrl==100\"></el-progress>\r\n                    </el-upload>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"addPrimarymenuVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"submitmenu_form('menu_form')\">确 定</el-button>\r\n            </div>\r\n            </el-dialog>\r\n        </template>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { getMenuList, updateMenu, delMenu, getChapterList,modifyMenu } from '@/assets/js/api';\r\nimport COS from '../assets/js/cos-js-sdk-v5.min.js';\r\nexport default {\r\n    data() {\r\n        return {\r\n            pageLoading: false,\r\n            menuList: [],\r\n            totalList:[],\r\n            chapterList:[],\r\n            menu_form: {\r\n                course_url:\"\",\r\n                section:'',\r\n                chapter:\"\"\r\n            },\r\n            rulePrimary: {\r\n                section: [\r\n                    { required: true, message: '请输入内容', trigger: 'blur' }\r\n                ],\r\n                chapter: [\r\n                    { required: true, message: '请输入内容', trigger: 'blur' }\r\n                ],\r\n            },\r\n            addPrimarymenuVisible: false,\r\n            menuTitle: \"添加课程\",\r\n\r\n            percentage: 0, // 上传进度\r\n            percentageUrl:0,\r\n            originName: '', // 文件名\r\n            originSize: '', // 文件大小\r\n            uploadFail: false,\r\n            uploadFailUrl:false,\r\n            isDisabled: false,\r\n            isDisabledUrl:false,\r\n            isLoad: 0, // 是否完成了上传\r\n\r\n            radio:\"1\",\r\n            pageTotal:0,\r\n            pageNumber:1,\r\n            pageSize: 10,\r\n        }\r\n    },\r\n    mounted() {\r\n       this.getMenuList();\r\n       this.getChapterList();\r\n    },\r\n    methods: {\r\n        getMenuList() {\r\n            getMenuList({id:this.$route.query.id}).then( res => {\r\n                this.pageTotal = res.length;\r\n                let temp = [];\r\n                for (let i = 0; i < res.length; i++) {\r\n                    if(i % 10 == 0){\r\n                        this.totalList.push(temp)\r\n                        temp = [];\r\n                    }\r\n                    temp.push(res[i]);\r\n                }\r\n                if(temp.length > 0){\r\n                    this.totalList.push(temp)\r\n                }\r\n                this.menuList = this.totalList[1];\r\n            })  \r\n        },\r\n        handleCurrentPageChange(e){\r\n            this.menuList = this.totalList[e]\r\n        },\r\n        getChapterList(){\r\n            getChapterList({id:this.$route.query.id}).then(res => {\r\n                if(res.length>0){\r\n                    res.forEach(element => {\r\n                        element.label = element.chapter;\r\n                        element.value = element.chapter;\r\n                    });\r\n                }\r\n                this.chapterList = res\r\n            })\r\n        },\r\n        handleChange(value){\r\n            this.menu_form.chapter = value[value.length-1]\r\n        },\r\n        addPrimarymenu() {\r\n            this.menuTitle = \"新增课程\";\r\n            this.menu_form.section = \"\";\r\n            this.menu_form.chapter = \"\";\r\n            this.menu_form.course_url = \"\";\r\n            this.addPrimarymenuVisible = true;\r\n        },\r\n        submitmenu_form(formName) {\r\n            this.$refs[formName].validate((valid) => {\r\n                if (valid) {\r\n                    if(this.menuTitle == \"新增课程\"){ \r\n                        this.menu_form.course_id = this.$route.query.id;\r\n                        if(this.menu_form.course_url == ''){\r\n                            this.$message.error(\"未上传视频\");\r\n                            return false\r\n                        }\r\n                        updateMenu(this.menu_form).then(res=>{\r\n                            this.$message.success(\"新增成功\");\r\n                            this.getMenuList();\r\n                            this.getChapterList();\r\n                            this.addPrimarymenuVisible = false;\r\n                        })\r\n                       \r\n                    } else {\r\n                        modifyMenu(this.menu_form).then(res=>{\r\n                            this.$message.success(\"更新成功\");\r\n                            this.getMenuList();\r\n                            this.getChapterList();\r\n                            this.addPrimarymenuVisible = false;\r\n                        })\r\n                    }\r\n                    \r\n                } else {\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n        delMenu(id)  {\r\n            this.$confirm('确定要删除吗？ 是否继续?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(() => {\r\n                delMenu({id: id}).then( res => {\r\n                    this.$message.success(\"删除成功\");\r\n                    this.getMenuList();\r\n                })\r\n            }).catch(() => {\r\n                this.$message({\r\n                    type: 'info',\r\n                    message: '已取消删除'\r\n                });          \r\n            });\r\n        },\r\n        modifyMenu(row) {\r\n            this.menu_form.id = row.id;\r\n            this.menuTitle = \"修改章节\";\r\n            this.menu_form.section = row.section;\r\n            this.menu_form.chapter = row.chapter;\r\n            this.addPrimarymenuVisible = true;\r\n        },\r\n\r\n        handleUploadUrl(e) {\r\n            let file = e.file;\r\n            if (!file) return;\r\n            this.originName = file.name;\r\n            this.originSize = file.size;\r\n            // 实例化对象\r\n            var cos = new COS({\r\n                SecretId: \"AKIDJMAi01oGSOJ0RUAwIWXZR4QWLvEInxSi\",\r\n                SecretKey: \"MtUpxsY7RdaIju23oKgmcokqhHo67C3h\",\r\n            })\r\n            // 上传\r\n            cos.putObject({\r\n                Bucket: \"examplecourse-1304676805\",\r\n                Region: \"ap-chengdu\",\r\n                Key: `course/${this.originName}`, // 文件名\r\n                Body: file, // 上传文件对象\r\n                onProgress: (progressData) => {\r\n                    this.percentageUrl = parseInt(progressData.percent * 100);\r\n                    this.isDisabledUrl = true; // 禁止上传\r\n                }\r\n            }, (err, data) => {\r\n                console.log(err || data);\r\n                if (data && data.Location && data.statusCode == 200) {\r\n                    this.menu_form.course_url = `https://${data.Location}`\r\n                    this.isLoad = 1;\r\n                }\r\n                if (err) {\r\n                    layer.msg('上传文件失败', {\r\n                        icon: 2\r\n                        , time: 1200\r\n                        , shade: 0.5\r\n                    });\r\n                }\r\n                this.isDisabledUrl = false;\r\n                this.uploadFailUrl = true;\r\n            });\r\n        },\r\n        // 上传前检查\r\n        beforeAvatarUploadUrl(file) {\r\n            this.uploadFile = file\r\n            this.uploadFileName = file.name\r\n            const isLt2M = file.size / 1024 / 1024 <= 102400\r\n            if (!isLt2M) {\r\n                this.$message.error('上传文件大小不能超过 1GB!')\r\n            }\r\n            return isLt2M\r\n        },\r\n       \r\n    },\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.btn-add{\r\n    position: absolute;\r\n    top: 20px;\r\n    right: 20px;\r\n    z-index: 10;\r\n}\r\n.newContent{\r\n    margin-top: 40px;\r\n}\r\n.text-link{\r\n  margin: 0 5px;\r\n}\r\n.activeIcon{\r\n   border: 1px solid blueviolet;\r\n   border-radius: 20%;\r\n}\r\n.courseImg{\r\n    width: 100px;\r\n    height: 50px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./menu.vue?vue&type=template&id=777a9940&\"\nimport script from \"./menu.vue?vue&type=script&lang=js&\"\nexport * from \"./menu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./menu.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}