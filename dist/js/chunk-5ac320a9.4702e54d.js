(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ac320a9"],{"08ce":function(e,t,i){},"471b":function(e,t,i){"use strict";i("08ce")},"60da9":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}],staticClass:"home-wrapper"},[i("el-button",{staticClass:"btn-add",attrs:{type:"primary"},on:{click:function(t){return e.addPrimarymenu()}}},[e._v("新增二级菜单")]),i("div",{staticClass:"newContent"},[i("el-table",{attrs:{data:e.menuPrimaryList}},[i("el-table-column",{attrs:{width:"100px",type:"index",align:"center",label:"序号"}}),i("el-table-column",{attrs:{width:"350px",align:"center",prop:"name",label:"分类名"}}),i("el-table-column",{attrs:{prop:"action",label:"操作",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticClass:"text-link",on:{click:function(i){return e.modifyMenu(t.row)}}},[e._v("修改")]),i("span",{staticClass:"text-link",on:{click:function(i){return e.delMenu(t.row.id)}}},[e._v("删除")])]}}])})],1)],1),[i("el-dialog",{attrs:{title:e.menuTitle,visible:e.addPrimarymenuVisible,"modal-append-to-body":!1,width:"500px"},on:{"update:visible":function(t){e.addPrimarymenuVisible=t}}},[i("el-form",{ref:"primaryForm",attrs:{model:e.primaryForm,rules:e.rulePrimary}},[i("el-form-item",{attrs:{label:"子分类名","label-width":"120px",prop:"name"}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.primaryForm.name,callback:function(t){e.$set(e.primaryForm,"name",t)},expression:"primaryForm.name"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.addPrimarymenuVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitprimaryForm("primaryForm")}}},[e._v("确 定")])],1)],1)]],2)},r=[],a=(i("b0c0"),i("a474")),o={data:function(){return{pageLoading:!1,menuPrimaryList:[],primaryForm:{depth:"3",name:""},rulePrimary:{name:[{required:!0,message:"请输入内容",trigger:"blur"}]},addPrimarymenuVisible:!1,menuTitle:"添加菜单"}},mounted:function(){this.getMenuList()},methods:{getMenuList:function(){var e=this;Object(a["e"])({parentId:this.$route.query.id}).then((function(t){e.menuPrimaryList=t}))},addPrimarymenu:function(){this.menuTitle="新增子分类",this.addPrimarymenuVisible=!0},submitprimaryForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;"新增子分类"==t.menuTitle?(t.primaryForm.parentId=t.$route.query.id,t.primaryForm.depth="3",console.log(t.primaryForm),Object(a["l"])(t.primaryForm).then((function(e){t.$message.success("新增子分类成功"),t.getMenuList(),t.addPrimarymenuVisible=!1}))):Object(a["j"])(t.primaryForm).then((function(e){t.$message.success("修改菜单成功"),t.getMenuList(),t.addPrimarymenuVisible=!1}))}))},delMenu:function(e){var t=this;this.$confirm("确定要删除吗？ 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(a["a"])({id:e}).then((function(e){t.$message.success("删除成功"),t.getMenuList()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},modifyMenu:function(e){this.primaryForm.name=e.name,this.primaryForm.id=e.id,this.menuTitle="修改菜单",this.addPrimarymenuVisible=!0},setting:function(e){this.$router.push({path:"/data-manage/secondMenu",query:{id:e}})}}},s=o,m=(i("471b"),i("2877")),u=Object(m["a"])(s,n,r,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-5ac320a9.4702e54d.js.map