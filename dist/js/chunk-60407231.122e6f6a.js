(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60407231"],{"24d6":function(e,t,n){"use strict";n("52b2")},"52b2":function(e,t,n){},e1af:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}],staticClass:"home-wrapper"},[n("el-button",{staticClass:"btn-add",attrs:{type:"primary"},on:{click:function(t){e.addMenuVisible=!0}}},[e._v("新增分类")]),n("div",{staticClass:"newContent"},[n("el-table",{attrs:{data:e.menuTopList}},[n("el-table-column",{attrs:{width:"100px",type:"index",label:"序号"}}),n("el-table-column",{attrs:{width:"350px",prop:"name",label:"分类名称"}}),n("el-table-column",{attrs:{prop:"action",label:"子分类",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{staticClass:"text-link",on:{click:function(n){return e.setting(t.row.id)}}},[e._v("设置")])]}}])}),n("el-table-column",{attrs:{prop:"action",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{staticClass:"text-link",on:{click:function(n){return e.modify(t.row)}}},[e._v("修改")]),n("span",{staticClass:"text-link",on:{click:function(n){return e.delMenu(t.row.id)}}},[e._v("删除")])]}}])})],1)],1),[n("el-dialog",{attrs:{title:e.menuTitle,visible:e.addMenuVisible,"modal-append-to-body":!1,width:"500px"},on:{"update:visible":function(t){e.addMenuVisible=t}}},[n("el-form",{ref:"menuForm",attrs:{model:e.menuForm,rules:e.ruleMenu}},[n("el-form-item",{attrs:{label:"分类名称","label-width":"120px",prop:"name"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.menuForm.name,callback:function(t){e.$set(e.menuForm,"name",t)},expression:"menuForm.name"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.addMenuVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitmenuForm("menuForm")}}},[e._v("确 定")])],1)],1)]],2)},s=[],a=(n("b0c0"),n("a474")),o={data:function(){return{pageLoading:!1,menuTopList:[],menuForm:{name:"",depth:"1",parentId:0},ruleMenu:{name:[{required:!0,message:"请输入顶层菜单名称",trigger:"blur"}]},addMenuVisible:!1,menuTitle:"新增一级菜单"}},mounted:function(){this.getMenuList()},methods:{getMenuList:function(){var e=this;Object(a["d"])().then((function(t){e.menuTopList=t}))},submitmenuForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;"新增一级菜单"==t.menuTitle?Object(a["l"])(t.menuForm).then((function(e){t.$message.success("添加顶层菜单成功"),t.getMenuList(),t.addMenuVisible=!1})):Object(a["j"])(t.menuForm).then((function(e){t.$message.success("修改菜单成功"),t.getMenuList(),t.addMenuVisible=!1}))}))},delMenu:function(e){var t=this;this.$confirm("确定要删除吗？ 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(a["a"])({id:e}).then((function(e){t.$message.success("删除成功"),t.getMenuList()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},modify:function(e){console.log(e),this.menuForm.name=e.name,this.menuForm.id=e.id,this.menuTitle="修改分类",this.addMenuVisible=!0},setting:function(e){this.$router.push({path:"/second",query:{id:e}})},handleCurrentPageChange:function(e){this.pageNumber=e,this.getMenuList()}}},u=o,l=(n("24d6"),n("2877")),r=Object(l["a"])(u,i,s,!1,null,null,null);t["default"]=r.exports}}]);
//# sourceMappingURL=chunk-60407231.122e6f6a.js.map