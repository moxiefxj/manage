(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76bc4309"],{"05c2":function(t,e,i){"use strict";i("4e59")},"4e59":function(t,e,i){},dc68:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.pageLoading,expression:"pageLoading"}],staticClass:"home-wrapper"},[i("el-button",{staticClass:"btn-add",attrs:{type:"primary"},on:{click:function(e){return t.addPrimarymenu()}}},[t._v("新增一级菜单")]),i("div",{staticClass:"newContent"},[i("el-table",{attrs:{data:t.menuPrimaryList}},[i("el-table-column",{attrs:{width:"100px",type:"index",align:"center",label:"序号"}}),i("el-table-column",{attrs:{width:"350px",align:"center",prop:"name",label:"分类名"}}),i("el-table-column",{attrs:{prop:"action",align:"center",label:"子分类",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.link?t._e():i("span",{staticClass:"text-link",on:{click:function(i){return t.setting(e.row.id)}}},[t._v("设置")])]}}])}),i("el-table-column",{attrs:{prop:"action",label:"操作",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticClass:"text-link",on:{click:function(i){return t.modifyMenu(e.row)}}},[t._v("修改")]),i("span",{staticClass:"text-link",on:{click:function(i){return t.delMenu(e.row.id)}}},[t._v("删除")])]}}])})],1)],1),[i("el-dialog",{attrs:{title:t.menuTitle,visible:t.addPrimarymenuVisible,"modal-append-to-body":!1,width:"500px"},on:{"update:visible":function(e){t.addPrimarymenuVisible=e}}},[i("el-form",{ref:"primaryForm",attrs:{model:t.primaryForm,rules:t.rulePrimary}},[i("el-form-item",{attrs:{label:"子分类名","label-width":"120px",prop:"name"}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.primaryForm.name,callback:function(e){t.$set(t.primaryForm,"name",e)},expression:"primaryForm.name"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.addPrimarymenuVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitprimaryForm("primaryForm")}}},[t._v("确 定")])],1)],1)]],2)},r=[],a=(i("b0c0"),i("a474")),s={data:function(){return{pageLoading:!1,menuPrimaryList:[],primaryForm:{name:"",depth:"2"},rulePrimary:{name:[{required:!0,message:"请输入内容",trigger:"blur"}]},addPrimarymenuVisible:!1,menuTitle:"添加菜单"}},mounted:function(){this.getMenuList()},methods:{getMenuList:function(){var t=this;Object(a["e"])({parentId:this.$route.query.id}).then((function(e){t.menuPrimaryList=e}))},addPrimarymenu:function(){this.menuTitle="新增子分类",this.addPrimarymenuVisible=!0},submitprimaryForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;"新增子分类"==e.menuTitle?(e.primaryForm.parentId=e.$route.query.id,Object(a["l"])(e.primaryForm).then((function(t){e.$message.success("新增子分类成功"),e.getMenuList(),e.addPrimarymenuVisible=!1}))):Object(a["j"])(e.primaryForm).then((function(t){e.$message.success("修改菜单成功"),e.getMenuList(),e.addPrimarymenuVisible=!1}))}))},delMenu:function(t){var e=this;this.$confirm("确定要删除吗？ 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(a["a"])({id:t}).then((function(t){e.$message.success("删除成功"),e.getMenuList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},modifyMenu:function(t){this.primaryForm.name=t.name,this.primaryForm.id=t.id,this.menuTitle="修改菜单",this.addPrimarymenuVisible=!0},setting:function(t){this.$router.push({path:"/third",query:{id:t}})}}},o=s,u=(i("05c2"),i("2877")),l=Object(u["a"])(o,n,r,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-76bc4309.92cbe9e2.js.map